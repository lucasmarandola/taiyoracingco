<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>TAIYO - CLOVER SEASON MEETING POINT</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
  <link rel="stylesheet" type="text/css" href="style_n.css">
</head>
<body>
  <div class="header">
    <div class="text-container">
      <p class="copyright">Â© Copyright 2021-2024 TAIYO RACING COMPANY.</p>
      <p class="terms"><a href="https://lucasmarandola.github.io/taiyoracingco/Legal/legal" target="_blank">Terms & Conditions</a> / <a href="https://lucasmarandola.github.io/taiyoracingco/Legal/privacy" target="_blank">Privacy Policy</a></p>
    </div>
    <div class="clock-container">
      <div class="separator"></div>
      <div class="clock" id="clock">
        <span id="hours">12</span>
        <span style="animation: blink 1s steps(1) infinite">:</span>
        <span id="minutes">00</span>
      </div>
    </div>
  </div>
  
  <div id="disclaimerModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <div class="title">Warning!</div>
      <div class="subtitle">Some vendors might contain some products that might not show appropriate content for all audiences.</div>
      <button id="understandButton">I understand</button>
    </div>
  </div>

  <div class="content">
        <div class="logo-title">
<img src="clover.png"  width="30%" align="center">
</div>
    <p class="initialdesc">
      A nexus to discover vendors featured in the Auto Sticker General community.<br>
      The CSMP logo is publicly available for <a href="https://lucasmarandola.github.io/taiyoracingco/goodies/clover-logo.svg" target="_blank" style="color: black; font-weight: bold;">download</a> and if you have any requests or suggestions for site improvements, feel free to reach out by sending me a message, you can <a href="https://www.instagram.com/lucasmdla" style="color: black; font-weight: bold;">contact me</a> for changes anytime.<br>
    </p>
    <div id="stickersSection">
      <div class="vendorsection"><h2>Decal & Aparrel</h2></div>
      <div id="imageGridContainerStickers" class="image-grid"></div>
    </div>

    <div id="lightsSection">
      <div class="vendorsection"><h2>Interior Tuning</h2></div>
      <div id="imageGridContainerLights" class="image-grid"></div>
    </div>

    <div id="designSection">
      <div class="vendorsection"><h2>Design Service</h2></div>
      <div id="imageGridContainerDesign" class="image-grid"></div>
    </div>
  </div>

  <footer class="footer">
    <div class="separator"></div>
    <a href="https://lucasmarandola.github.io/taiyoracingco/">
      <img class="logo" src="https://lucasmarandola.github.io/taiyoracingco/taiyo.png" alt="TAIYO Racing Company Logo">
    </a>
    <div class="disclaimer">
      <p>TAIYO RACING COMPANY is not affiliated with any store unless stated whatsoever.</p>
    </div>
  </footer>

  <script>
document.addEventListener('DOMContentLoaded', function () {
    // Display the modal when the page is loaded
    const disclaimerModal = document.getElementById('disclaimerModal');
    disclaimerModal.style.display = 'block';

    // Close the modal when clicking anywhere on the page
    addEventListener('click', function () {
        disclaimerModal.style.display = 'none';
    });

    // Close the modal when the "I understand" button is clicked
    const understandButton = document.getElementById('understandButton');
    understandButton.addEventListener('click', function () {
        disclaimerModal.style.display = 'none';
    });

    // Fetch and display sticker vendors
    fetchVendors('https://lucasmarandola.github.io/taiyoracingco/goodies/clover/vendors.txt', 'imageGridContainerStickers');

    // Fetch and display light vendors
    fetchVendors('https://lucasmarandola.github.io/taiyoracingco/goodies/clover/database/interior.txt', 'imageGridContainerLights');

    // Fetch and display design vendors
    fetchVendors('https://lucasmarandola.github.io/taiyoracingco/goodies/clover/database/design.txt', 'imageGridContainerDesign');

    function fetchVendors(fileUrl, containerId) {
        const cacheBustingParam = `?${Date.now()}`;
        fetch(`${fileUrl}${cacheBustingParam}`)
            .then(response => response.text())
            .then(data => {
                const entries = data.trim().split('\n');
                shuffleArray(entries);
                const imageGridContainer = document.getElementById(containerId);
                entries.forEach(entry => {
                    const [name, location, backgroundImage, logoImage, vendorLink, instagramHandle, OSG, NSFW] = entry.split('|');

                    const imageItem = document.createElement('div');
                    imageItem.classList.add('image-item');

                    const backgroundLink = document.createElement('a');
                    backgroundLink.href = vendorLink;
                    backgroundLink.target = '_blank';

                    const backgroundImageElement = document.createElement('img');
                    backgroundImageElement.src = backgroundImage;
                    backgroundImageElement.alt = 'Background Image';

                    const overlayContainer = document.createElement('div');
                    overlayContainer.classList.add('overlay-container');

                    const logoOverlay = document.createElement('img');
                    logoOverlay.src = logoImage;
                    logoOverlay.alt = 'Logo';
                    logoOverlay.classList.add('logo-overlay');

                    const instagramLinkElement = document.createElement('a');
                    instagramLinkElement.href = `https://instagram.com/${instagramHandle}`;
                    instagramLinkElement.target = '_blank';
                    instagramLinkElement.classList.add('instagram-link');

                    const instagramHandleElement = document.createElement('p');
                    instagramHandleElement.classList.add('instagram-handle');
                    instagramHandleElement.innerHTML = `<a href="https://instagram.com/${instagramHandle}" target="_blank">@${instagramHandle}</a>`;
                    if (instagramHandle.trim() === "No social media.") {
                        instagramHandleElement.style.display = 'none';
                    }

                    const osgStatusElement = document.createElement('img');
                    osgStatusElement.classList.add('osg-status');
                    osgStatusElement.src = (OSG === "TRUE") ? "https://lucasmarandola.github.io/taiyoracingco/goodies/clover/pic_system/sign_clov.png" : "";

                    overlayContainer.appendChild(logoOverlay);
                    overlayContainer.appendChild(instagramLinkElement);
                    backgroundLink.appendChild(backgroundImageElement);
                    backgroundLink.appendChild(overlayContainer);
                    imageItem.appendChild(backgroundLink);
                    imageItem.appendChild(instagramHandleElement);
                    imageItem.appendChild(osgStatusElement); 
                    imageGridContainer.appendChild(imageItem);
                });
            })
            .catch(error => console.error('Error fetching data:', error));
    }

    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }

    function updateTime() {
        const now = new Date();
        const hours = now.getHours().toString().padStart(2, '0');
        const minutes = now.getMinutes().toString().padStart(2, '0');

        document.getElementById('hours').textContent = hours;
        document.getElementById('minutes').textContent = minutes;
    }

    setInterval(updateTime, 1000);
    updateTime();
});
  </script>
</body>
</html>
